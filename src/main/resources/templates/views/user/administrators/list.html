<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>layuiAdmin 后台管理员</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link rel="stylesheet" href="/static/layui/layuiadmin/layui/css/layui.css" media="all">
    <link rel="stylesheet" href="/static/layui/layuiadmin/style/admin.css" media="all">
</head>
<body>


<script src="/static/layui/layuiadmin/layui/layui.js"></script>
<script src="/static/jquery/jquery-2.1.4.min.js" charset="utf-8"></script>

<div style="display: inline-block; width: 200px; height: 200px; padding: 10px; border: 1px solid #ddd; overflow: auto;">
    <ul id="demo2"></ul>
</div>
<div class="site-tips" style="display: inline-block; height: 200px; width: 485px; padding: 10px; margin-left: 10px; vertical-align: top;" id="demo2-view">
    点击左侧菜单，右侧将会显示当前点击节点的对应参数</div>

<script>
    var obj;
    $.post("/sysdept/getTree",function (res){
            obj = res; // console.log(res);
            layui.use('tree', function(){
                var $ = layui.jquery;
                layui.tree({
                    elem: '#demo2' //指定元素
                    ,target: '_blank' //是否新选项卡打开（比如节点返回href才有效）
                    ,url : 'sysdept/getTree'
                    ,click: function(item){ //点击节点回调
                        $('#demo2-view').html('当前节名称：'+ item.name + '<br>全部参数：'+ JSON.stringify(item));
                    }
                    ,nodes: obj
                });
              });

    });
    //Demo

</script>
</body>
</html>

